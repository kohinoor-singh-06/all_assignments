# Lab_4 (File Back and Automation)

## 1.‚Å† ‚Å†Backup.sh Script

Create a new file named backup.sh inside your project folder:
/home/kohinoorsingh/Screenshots/Screenshot from 2025-11-14 14-59-40.png

## 2. Make Script Executable

Run the following command once:

```bash
chmod +x Backup.sh
```

## 3. Testing the script

### 1. Create some samples .txt files:
/home/kohinoorsingh/Screenshots/Screenshot from 2025-11-14 14-57-16.png
### 2. Run the script:
./backup.sh
/home/kohinoorsingh/Screenshots/Screenshot from 2025-11-14 14-58-05.png


# LAB 5 (File backup and automation)
## Objective
Automate the backup of ‚Å†‚ÄØ.txt‚ÄØ‚Å† files into a ‚Å†‚ÄØbackup/‚ÄØ‚Å† folder with timestamps in filenames.

---

## Script Explanation

1.‚Å† ‚Å†‚Å†‚ÄØmkdir -p backup‚ÄØ‚Å†  
   Creates a folder named ‚Å†‚ÄØbackup‚ÄØ‚Å† if it does not exist.

2.‚Å† ‚Å†‚Å†‚ÄØtimestamp=$(date +"%Y%m%d_%H%M%S")‚ÄØ‚Å†  
   Generates a timestamp (format: YYYYMMDD_HHMMSS).

3.‚Å† ‚Å†‚Å†‚ÄØfor file in *.txt; do ... done‚ÄØ‚Å†  
   Loops through all ‚Å†‚ÄØ.txt‚ÄØ‚Å† files in the current directory.

4.‚Å† ‚Å†‚Å†‚ÄØbasename "$file" .txt‚ÄØ‚Å†  
   Extracts the file name without extension.

5.‚Å† ‚Å†‚Å†‚ÄØcp "$file" "backup/${filename}_$timestamp.txt"‚ÄØ‚Å†  
   Copies the file into ‚Å†‚ÄØbackup/‚ÄØ‚Å† with the timestamp appended.

---

### Input
Created two ‚Å†‚ÄØ.txt‚ÄØ‚Å† files:

file1.txt
file2.txt

### Command
./Backup.sh

### Output
/home/kohinoorsingh/Screenshots/Screenshot from 2025-11-14 14-58-52.png

## Extra Questions - 

### Question-1) What is the difference between cp,mv,and rsync?

### Answer-1) Difference is as follows 
üîπ cp (Copy)
Function: Makes a copy of a file or directory.

The original stays in place, and a duplicate is created.

Basic usage:

cp source.txt destination.txt
Options:

-r ‚Üí copy directories recursively.

-i ‚Üí ask before overwrite.

-u ‚Üí only copy if source is newer.

‚úÖ Good for simple duplication.
‚ùå Doesn‚Äôt preserve permissions/timestamps by default (unless -p).

üîπ mv (Move/Rename)
Function: Moves or renames files/directories.

The file is removed from the source location and placed at the destination.

Usage:

mv oldname.txt newname.txt     # Rename
mv file.txt /home/user/docs/   # Move

‚úÖ Efficient because it usually just updates the filesystem pointer.
‚ùå If moving across filesystems/disks, it works like cp + rm.

üîπ rsync (Remote Sync)
Function: Advanced tool for synchronizing files/directories between locations (local or remote).

Usage:

rsync -avh source/ backup/

Features:
- Incremental ‚Üí only copies changed parts, not the whole file.
- Remote support ‚Üí can sync via SSH to another computer.
- Preserves permissions, timestamps, symbolic links, etc.

Useful for backups and mirroring.

‚úÖ Best for efficient backups & syncing.
‚ùå More complex than cp or mv.

### Question-2. How can you schedule scripts to run automatically?
### Answer-2. Using at command (one-time scheduling)

- If you just want to run a script later (not repeatedly):

1. Install at if not present:

```bash
sudo apt install at
```

2. Enable the service:

```bash
sudo systemctl enable --now atd
```

3. Schedule your script:

```bash
echo "/home/tanya/myscript.sh" | at 5pm
```

(This will run it today at 5 PM).
